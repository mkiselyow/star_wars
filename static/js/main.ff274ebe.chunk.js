(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(36)},,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(11),i=n.n(s),c=n(1),l=n(2),o=n(4),u=n(3),m=n(5),p=n(6),h=n.n(p),d=n(9),f=function(){function e(){Object(c.a)(this,e),this._url="https://swapi.co/api"}return Object(l.a)(e,[{key:"getResource",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t,n,a,r=this,s=arguments;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"people",n=s.length>1?s[1]:void 0,a="".concat(this._url,"/").concat(t,"/").concat(n||""),e.next=5,fetch(a).then(function(e){return r.handleErrors(e)}).then(function(){var e=Object(d.a)(h.a.mark(function e(a){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,r.imageExists(t,n);case 3:return a.imageExists=e.sent,e.abrupt("return",r.Decorator(t,a));case 5:return e.abrupt("return",a.results.map(function(e){return r.Decorator(t,e)}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){throw console.log(e.message),e});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"imageExists",value:function(){var e=Object(d.a)(h.a.mark(function e(t,n){var a,r,s=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://starwars-visualguide.com/assets/img/".concat(t,"/").concat(n,".jpg"),e.next=3,fetch(a).then(function(e){return s.handleErrors(e)}).then(function(e){return r=e.status}).catch(function(e){return console.log(e)});case 3:return e.abrupt("return",!!r&&404!==r);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){if(!e.ok)throw Error(e.statusText);return e.json()}},{key:"getId",value:function(e){return e.url.match(/\/([0-9]*)\/$/)[1]}},{key:"Decorator",value:function(e,t){switch(e){case"planets":return{id:this.getId(t),name:t.name,population:t.population,rotationPeriod:t.rotation_period,diameter:t.diameter,imageExists:t.imageExists,typeOfItem:"planets"};case"starships":return{id:this.getId(t),name:t.name,cargo_capacity:t.cargo_capacity,passengers:t.passengers,imageExists:t.imageExists,typeOfItem:"starships"};case"people":return{id:this.getId(t),name:t.name,gender:t.gender,mass:t.mass,imageExists:t.imageExists,typeOfItem:"people"};default:return t}}}]),e}(),v=(n(20),function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"start",value:function(e){var t=document.getElementById(e),n=t.innerHTML;t.innerHTML=n.split("").map(function(e){return"<div class='char-item'>".concat(e,"</div>")}).join("\n"),t.classList.add("word-wrapper");for(var a=document.querySelector(".word-wrapper").children,r=function(e,t){if(" "!==n.charAt(e)){setTimeout(function t(){a[e].classList.add("char-active"),setTimeout(function(){return a[e].classList.remove("char-active")},1e3),setTimeout(t,1e3*n.replace(/ /g,"").length)},1e3+1e3*t),t<n.replace(/ /g,"").length&&t++}i=t},s=0,i=0;s<n.length;s++)r(s,i)}}]),e}()),g=(n(22),function(e){var t=e.href,n=e.title;return r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link nav-list-item",href:t},n))}),E=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("ul",{className:"nav nav-list-item-container"},r.a.createElement(g,{href:"#",title:"People"}),r.a.createElement(g,{href:"#",title:"Planets"}),r.a.createElement(g,{href:"#",title:"Ships"})))},y=n(7),b=n(8),O=(n(24),function(){return r.a.createElement("div",{className:"lds-css ng-scope mt-3"},r.a.createElement("div",{className:"lds-spinner",style:{width:"100%",height:"100%"}},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),j=(n(26),function(e){var t=e.type,n=e.id,a="https://starwars-visualguide.com/assets/img/".concat(t,"/").concat(n,".jpg");return r.a.createElement("div",{className:"col-12 col-sm-6 d-flex justify-content-center align-items-center"},r.a.createElement("img",{className:"rounded my-2 random-planet-img",src:a,alt:""}))}),w=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"mapPropertiesNames",value:function(e){return"people"===e.typeOfItem?[["Gender",e.gender],["Mass",e.mass],["Mass",e.mass]]:"planets"===e.typeOfItem?[["Population",e.population],["Rotation Period",e.rotationPeriod],["Diameter",e.diameter]]:"starships"===e.typeOfItem?[["Cargo Capacity",e.cargo_capacity],["Passengers",e.passengers],["Passengers",e.passengers]]:void 0}},{key:"render",value:function(){var e=this.props.item,t=e.id,n=e.name,a=Object(y.a)(e,["id","name"]),s=this.props.imageExists;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(j,{type:a.typeOfItem,id:t}):null,r.a.createElement("div",{className:"col-12 col-sm-6 d-flex flex-column justify-content-center align-content-middle"},r.a.createElement("header",{className:"my-3"},r.a.createElement("span",null,n)),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"table-active"},r.a.createElement("th",{scope:"row"},this.mapPropertiesNames(a)[0][0]),r.a.createElement("td",null,this.mapPropertiesNames(a)[0][1])),r.a.createElement("tr",{className:"table-active"},r.a.createElement("th",{scope:"row"},this.mapPropertiesNames(a)[1][0]),r.a.createElement("td",null,this.mapPropertiesNames(a)[1][1])),r.a.createElement("tr",{className:"table-active"},r.a.createElement("th",{scope:"row"},this.mapPropertiesNames(a)[2][0]),r.a.createElement("td",null,this.mapPropertiesNames(a)[2][1]))))))}}]),t}(a.Component),N=function(){return r.a.createElement("div",{className:"my-2 alert alert-dismissible alert-danger text-center"},"Something went wrong!")},x=(n(28),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new f,n.state={id:null,name:null,typeOfItem:null,error:!1,imageExists:!1},n.onError=function(e){console.log(e+" === in random planet"),n.setState({error:!0}),n.interval=null},n.onNoError=function(){n.setState({error:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet.bind(this),5e3)}},{key:"componentWillUnmount",value:function(){this.interval=null}},{key:"updatePlanet",value:function(){var e=this,t=Math.floor(25*Math.random())+2;this.swapiService.getResource("planets",t).then(function(t){e.setState(Object(b.a)({},t)),e.state.error&&e.onNoError()}).catch(function(t){return e.onError(t)})}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.imageExists,a=Object(y.a)(e,["error","imageExists"]),s=!!Object.values(a).join(""),i=t,c=s?r.a.createElement(w,{imageExists:n,item:Object(b.a)({},a)}):null,l=s||i?null:r.a.createElement(O,null),o=i?r.a.createElement(N,null):null;return r.a.createElement("article",{className:"random-planet-content container bg-gray rounded"},r.a.createElement("div",{className:"row d-flex justify-content-center align-items-center"},l,c,o))}}]),t}(a.Component)),k=(n(30),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new f,n.state={peopleList:null},n.onError=function(){n.setState({error:!0}),n.props.pageOnError()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.swapiService.getResource("people").then(function(t){e.setState({peopleList:t})}).catch(this.onError)}},{key:"prepareList",value:function(){var e=this;if(this.state.peopleList)return this.state.peopleList.map(function(t){return r.a.createElement(P,{key:t.id,href:"#",title:t.name,id:t.id,onClick:function(){return e.props.onItemSelected(t.id)}})})}},{key:"render",value:function(){var e=this.state.peopleList,t=e?this.prepareList():null,n=e?null:r.a.createElement(O,null);return r.a.createElement("article",{className:"itemList my-2"},r.a.createElement("ul",{className:"list-group"},n,t))}}]),t}(a.Component)),P=function(e){var t=e.title,n=e.onClick;return r.a.createElement("li",{onClick:n,className:"list-group-item d-flex justify-content-between align-items-center hover-color"},r.a.createElement("div",{className:"item-list-item-link"},t))},S=(n(32),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new f,n.state={id:null,name:null,typeOfItem:null,error:!1,imageExists:!1,fetchingNextObj:!0},n.onError=function(){n.setState({error:!0}),n.props.pageOnError()},n.onNoError=function(){n.setState({error:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.fetchingNextObj(!0),this.fetchPerson())}},{key:"fetchingNextObj",value:function(e){this.setState({fetchingNextObj:e})}},{key:"fetchPerson",value:function(){var e=this,t=this.props.id;this.swapiService.getResource("people",t).then(function(t){e.setState(Object(b.a)({},t)),e.fetchingNextObj(!1),e.state.error&&e.onNoError()}).catch(function(t){return e.onError(t)})}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.imageExists,a=e.fetchingNextObj,s=Object(y.a)(e,["error","imageExists","fetchingNextObj"]),i=!a&&!!Object.values(s).join(""),c=t,l=this.props.id,o=i?r.a.createElement(w,{imageExists:n,item:Object(b.a)({},s)}):null,u=i||c||!l?null:r.a.createElement(O,null),m=c?r.a.createElement("div",null,"An error occurred"):null;return r.a.createElement("article",{className:"person-details container bg-gray rounded"},r.a.createElement("div",{className:"my-2 row d-flex justify-content-center align-items-center"},u,o,m))}}]),t}(a.Component)),I=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedPerson:null,hasError:!1},n.onPersonSelected=function(e){n.setState({selectedPerson:e})},n.onError=function(){n.setState({hasError:!0})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(N,null):r.a.createElement("div",{className:"row mb2"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(k,{onItemSelected:this.onPersonSelected,pageOnError:this.onError})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(S,{id:this.state.selectedPerson,pageOnError:this.onError})))}}]),t}(a.Component),L=(n(34),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isFetchInProgress=!1,n.changeProgress=function(e){n.isFetchInProgress=e,document.getElementById("progress")&&(document.getElementById("progress").style.visibility=n.isFetchInProgress?"visible":"hidden")},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){v.prototype.start("dynamicText")}},{key:"render",value:function(){var e=this;return this.changeProgress(!0),(new f).getResource("planets").then(function(t){e.changeProgress(!1),console.log(t)}).catch(function(t){console.log(t.message),e.changeProgress(!1)}),r.a.createElement("div",{className:"app container"},r.a.createElement("article",{id:"dynamicText",className:"my-3"},"Star Wars Database"),r.a.createElement(E,null),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center m-3"},r.a.createElement("div",{className:"progress",style:{width:"35%"},id:"progress"},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}}," "))),r.a.createElement(x,null),r.a.createElement(I,null))}}]),t}(a.Component));i.a.render(r.a.createElement(L,null),document.getElementById("root"))}],[[12,2,1]]]);
//# sourceMappingURL=main.ff274ebe.chunk.js.map